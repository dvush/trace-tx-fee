Simple way to show full transaction fee using geth tracing.

```
transaction fee = payment to coinbase + gas fee (tip)
effective gas price = transaction fee / gas used
```

Its easy to get gas fee from the receipt but its impossible to get payment to coinbase without transaction tracing.
Here we use geth js tracer.


# Usage

Set `ETH_RPC_URL` env variable to geth rpc url. Note that it has to have `debug` api enabled.
Unless you have achive node it only works for the last 128 blocks.

```
export ETH_RPC_URL=http://127.0.0.1:8545
```

Run with the block hash as an arg
```
python3 main.py 0x5d90965e768dc10db715fadb25e9f32192f8381835f7dedf8e775817acb7f48e
```

Example output:
```
tx hash                                                               effective gas price (gwei)    tip (gwei)      coinbase delta    gas used
------------------------------------------------------------------  ----------------------------  ------------  ------------------  ----------
0xead0f195cd771aab257c12d1e97ca727119a7b969460816cffd3a21236f75d24                      0.67          0.67         253573560000000      378468
0xd46abaf3431c925ac297349b65d97e78091c6f20213dcda3b0b0106945e6c496                     36.803        36.803       7740366498290676      210319
0x29865374eb13964435b387caa98a5212d4edb7fb4d0dcf894fba4230fed32a71                      1.21          1.21          54496079083600       45038
0xead996bfd31b3af1c30976b95153ce16301ef8c75843c601a70c9ed284b825c9                     61.8521       61.8521      1298895029901000       21000
0x11be8cb3720f95b2b0979f15a5972532c06ad01fdb082e89cff589119a5208e5                     29.6749       29.6749       956807051275951       32243
0x26ba767312f50a124d6b1ac9df774b543d66738d17dff5b8d5daf6f9536fe10a                     22.3521       22.3521       923612953835201       41321
0x582b1c196026f9010a868c5c302ddbbb0256b3afe3bc7195b68ecb58552595e6                     22.3521       22.3521       923344728103829       41309
0xe7c23446ab445d5ac72e8762c3c1ea819f1be503669f6445e6821806599f6339                     22.3521       22.3521       469395029901000       21000
0xdb6b418302b3480cb81f9c6651986d8ae99e20eb02b136f80e43d15ad93bb769                     18.9237       18.9237       397398644832000       21000
0x503a3c6cc66a577a50de973921b85bb01b7a1420b9af371d5be4f92e4e33af67                     18.8521       18.8521       657355418934189       34869
0x8cac87be363675257b6880ae87cd53c670799f1ada9a826655211c8beb93df86                     11.8521       11.8521       585756674655582       49422
0x852a9aee808a824aad6e0766ccfbd924e7e246eeb416efae44151b0b77ae392d                     10            10           5301890000000000      530189
0x49728627b04cedf9861de652c02c0435614dcfffb5fd5a54e81ac4245892e4ac                      8.4804        8.4804       178088388534000       21000
0x855675df99617970920d4da31e98eb9f2b42f103bcfdc7c824c1bab34e9394af                      8             8           1371792000000000      171474
0x3ae0b0751f9d5e47e2e1c336d379c383e1fa7ffae16383557c9d7f57cde52240                      7.06214       7.06214      627443270789726       88846
0x5193be955df53054f2de946e4a413adda3d62092844ee5b04f83a7c89276e3cb                      6.47518       6.47518      336269174110556       51932
0x89a73bc38e765123ef63f11f8ad9fa5d78f5f3baf5d981afb817c0604893c483                      6             6           1153146000000000      192191
0x4329317cb6e132c7c4c67d0dbbce9d66d05767057a7cc153a8931aeb5d7db31f                      3.52336       3.52336       73990488075000       21000
0xb1cfbabbb219ff5782e3fba649230eab60814e671a01b51a9c8926f7f789ba1d                      3.28214       3.28214       68925029901000       21000
0x6514ad54920446ae23229b328a8858b6170feddee2449c7edc870ca7b1cd7917                      3.28214       3.28214       68925029901000       21000
0xe0d842415bb8dd63c8461733ac31a2f4b9c88dd4614aa7b28ec5465b8c90e60b                      3             3            489312000000000      163104
0x41e0de979d52ba9e86a4bf510b5f9e3292b4e8216a664be8ee98d5b4740e174c                      3             3            823548000000000      274516
0x40e2efd52c73bc10d27aa8867e9158d787047ba8eef70020bdb144f8a92b33b5                      3             3            479676000000000      159892
0xf2569893b5217046bd8230258624914a981dc658e128765564cf5c214db14f2f                      3             3            650925000000000      216975
0x57784e16f754ec5b62d4e68d822cacbe964adc0b1e305ab95560974d81efabce                      2.96214       2.96214       62205029901000       21000
0xc7ae8ebff93e2fa41ebdf280225bb52db2ab4ef969ed16e8473df954a6990c4c                      2.96214       2.96214       62205029901000       21000
0x0cc0e366a80833306b9fd34c5cd77d26d1d03df70caa3a496bb604d834814c15                      2.96214       2.96214       62205029901000       21000
0xc47e26a9d0a22fd10e1776acd90318dbc6ae8be52ce62ac25185870385b5a399                      2.85214       2.85214      811654663054137      284577
0x69d74159e6fa91432d0fa730720d577cb44a14b6872787fb5ac0efa2bc6b0749                      2.67586       2.67586       56193133143000       21000
0xe440e052425732612630013ec7e6797cb516acffc9fddcd2ccd48f5a7076c0ca                      2.59551       2.59551      121020931822609       46627
0xf0b12e1f92757dcfac6c9a98bf1b086fb00f1fa73e98d159dc3c42da822ec72f                      2.5           2.5          151732500000000       60693
0xb27d67640f0e25677930e9a87ffd0bf5da55a1fd116c88784a311d08e8cd2ef7                      2.5           2.5          115437500000000       46175
0x0577f95097a6d6418bee11b07dcb9dd01898b2147d674e18d118eff39374c86b                      2.5           2.5         1374447500000000      549779
0x01cc7784bc1a73e501eaedf1aaafd0312849b99649b8c259296016ae96fa9069                      2.002         2.002        131381250000000       65625
0xabf63c4e64c746177bf3caf49290032eea83faddb79007f083d5aa7127db8b6e                      2             2            330104000000000      165052
0x898c316f014aacebcb4f5c1fecdf71facef2b1f25533db5ff7901308f7d7b5d3                      2             2             94510000000000       47255
0xfdb5cd6b23659ff972b8178b75d9cc56fa8373a610d0fea421201fb7685bf8ae                      2             2            527338000000000      263669
0x7bb778eac5740d4ab6c72c27f56b6487b3a278335aea8a2f99b3947984df7025                      2             2             42000000000000       21000
0x0f2580884196b27e270134d80f4d9720eda1f1b2a572549dd74c3dee17d704e9                      2             2             93252000000000       46626
0xe63f2e22785e574a69e55550661286858f1bc1c8fbb940b6897974410b6f013c                      2             2             42000000000000       21000
0x357fcfb02bd5037c6cd7f7106d244eb6db15db345874d3fefaadfe551f0d52fb                      2             2            335854000000000      167927
0x08f975bbb0179af50bda623cc6700bff0b1bafe42431274bf0db652e4c217ca1                      2             2             60808000000000       30404
0x8584ab95da657097867e8654bdd343e9e97c8f5575e7869e737eecde805a59e5                      2             2            267924000000000      133962
0xfbc1b77a114134b5b3e33eedab57530ab0eb670170717f1b73f400b3ef1b1bc0                      2             2             90536000000000       45268
0xbe1a5af808f0100ffa4c56b5ce2dbd8b5f7f5c0e9ca477c690e6c203ffb9401b                      2             2             92242000000000       46121
0x0471961cfe5a5082de71c9da1b7b5f5e61b4b7fcda3bd7eb1ffca0dfaa5aee33                      2             2             93694000000000       46847
0xf3ae5f7ffd15e752ad2a463eda90449d13f13f4596e58c8bae075bce0a3c0088                      2             2            104732000000000       52366
0xdc1510b63bc84135e331cbf7b81a9a8cdd52840d74abdca321676b1e3a5d74b6                      2             2            468270000000000      234135
0x51b1e093813eb0a8929b62539725e6453bfc1e9b85ccef92cfac0aa47f534190                      2             2            516758000000000      258379
0x85a22355bde31b06c0ab47fcdea8bb0dfe219ab4c67e33ca9ac8b8bdefa98236                      2             2             55876000000000       27938
0x4f41a048586778d91a82ff7a0d2cb3b2c2063eb24616a8025ec59381c392c596                      1.85214       1.85214       38895029901000       21000
0xb49fd184a2f864305879ff8cb4da496c55bfab010fd2220e07b98ddbc05d3819                      1.85214       1.85214       38895029901000       21000
0x505f8af2d8bd8af52136fde745b761a3d85625bc5fdeeeb86dd279d7ed68992f                      1.68143       1.68143      522000923000289      310451
0x7fac018457e1c2de1afc0ddccebb2b5c206991d30e8031b466d64f9d955935e8                      1.55          1.55          79907150000000       51553
0xa05126b7219073a4d8eab2fedf4eb9d13716416e9c28d6261b5c8e001607687b                      1.501         1.501         69209609000000       46109
0x45d6695ff0b43e3044dba7167257ef62e5236abc37f8457649ed50f66b124b04                      1.5           1.5           31500000000000       21000
0x91f78ccb4d31c5cc01e07ba8f6e2d72765de93ede897668fb69e2aa181f6450a                      1.5           1.5           94831500000000       63221
0xfd023bf6551e82edabf3456942aaef15d2b6ae0ae63b274c57d023bc88713b7b                      1.5           1.5           31500000000000       21000
0x764a353ba034a2eb2487cdb8d7d475c336daa062927c5217ad1fd3021bd3422a                      1.5           1.5           31500000000000       21000
0x160f90b3099aca571394327a714217ab0cd7415fa9d25b2aab0f3209017d93b5                      1.5           1.5           31500000000000       21000
0x1ae5e4857a5893a11637007fe3ec2948863a3f9c6b93040626e7507b7f53afea                      1.5           1.5          302242500000000      201495
0x9c95762e6dbe9593c36f98ba194a88440df5d8e9fd8e292f12d52e2333b4e57f                      1.5           1.5          123297000000000       82198
0x5709edf51d13056a84d002c35ac56667e281c3eee02dbda340f49ca71bf1eeab                      1.5           1.5          295692000000000      197128
0xd7fe1109cfcc1028229f2d015447f3841e18ab1e55d270e1e510d9cd3328de03                      1.5           1.5          257821500000000      171881
0x8371a26a08ba3c4657e981d03d04ca6ae0bad006d098cf9f45b18e5c48a8a309                      1.5           1.5           86826000000000       57884
0x01c7e787c8f691b86a0f5dfa79351409f19cd58fc0044694604f6ea930f0e358                      1.5           1.5           93538500000000       62359
0x3f4149a3c1bd049214f43bce62ccd87f05ed69bed9d67536a5e556868379d053                      1.5           1.5           78256500000000       52171
0x6a73c17d70b7a869eac7e531a6822d61842013f9031d199c7772ac3d14d6cab9                      1.5           1.5           31500000000000       21000
0x3d56019d590fd9f24cde555adb6a53c0c12f8ae870b6857b3c50da608ee9ee33                      1.5           1.5           31500000000000       21000
0xd6bd3dc6c07ba7da0d464f8aef152dfb986417f93e0cad0f6287acb4b0f19c29                      1.5           1.5           92266500000000       61511
0xb0688352dd863058c3a9ca2d6fd5da498d14101740c07745039363aa430fbbe1                      1.5           1.5          335977500000000      223985
0xb1ed167773d8b8d5fbb96d5c7d02731b1a4b8c64c414c3dd2afcc6ae83f27a03                      1.5           1.5          289321500000000      192881
0xf6e03da696a04af8d851702dada36361f5b2701487105c9546022598ab372589                      1.5           1.5          293965500000000      195977
0x5aec55db95229afc421fe2521b7a45e1df4692bd771e51fc8f55b87b01b77754                      1.5           1.5           81879000000000       54586
0x3b328ec13f95ba5b12a0077a75191fea9bd825b6d3fb39843e1be3f49d84c510                      1.5           1.5           69325500000000       46217
0x1b9f9fdd8c490213db847231bfbb462fa3000bc0310149a2c2bdc71501accb76                      1.5           1.5           31500000000000       21000
0xe1c9c5fbe944a8546418d1f3359d2ec700807eda73c6d0faebfb4c47cd3e6773                      1.5           1.5          197473500000000      131649
0x52185c111ce90229133fd24677921c28f18961977cf52eef00698a903640c651                      1.5           1.5           80205000000000       53470
0x08ea9cb1e307d4d5f41bbac454abcf6d1b3397fba80081bfa1332742e066b6da                      1.5           1.5          215029500000000      143353
0xabf7fb738803cb0ebb485fb78951e92d3a4b8a1e973f345347987ef90da0af85                      1.5           1.5           83128500000000       55419
0x05e62ac3b160bad3297ae9f45e7352d65d3d64a8bf86f6632fdd32f9e35c633a                      1.5           1.5           69103500000000       46069
0x84f0cd2b533e4548c1005c60b89ddb6fdcf7eb3a782dd4b39310cca93ae7f43f                      1.5           1.5           92542500000000       61695
0x70276a792f03ecfec5f226ce6ebf7240672e2de4b6406c44df363b386c6c7585                      1.5           1.5          191599500000000      127733
0x91290f265189829b499b8e07cc26a1e198c496ba4360b4b431ebcfd32df65274                      1.5           1.5           70414500000000       46943
0x7e73d43e1907e6fe9770d5f9cfa7bf800424d022851ccc07106eae64c437842a                      1.5           1.5           31500000000000       21000
0x1a975838aacff78f47753b539411634af1e4b411e0a9416cd1b2c901337bf84f                      1.5           1.5           73948500000000       49299
0x92be61c652fb96aba9004ad5c0e584d4770d3993d1cfc8a494e96ad99df8ad3a                      1.5           1.5           31500000000000       21000
0xf58f7d00525f4be8a03fe9f9d558f14a3d86a3a34c6a40900235202101b3ca3d                      1.5           1.5          263718000000000      175812
0x28e342365914e5a16ade0deeb6a13c5acd60dc74d589eb33554f699615278633                      1.5           1.5          229983000000000      153322
0x76b6ad0fc1c02ca2025040b4506beb9300cc87f91892902bc81113971fa53e9b                      1.5           1.5           31500000000000       21000
0xc99712ace5d0e832bc7b9577c1a88b56ce9a7ab1378bf160cdb0fe7870f72e3a                      1.5           1.5           31500000000000       21000
0x1c1428b305d5255775e4eca1f8a9109c7470f50d2633c3e37bb3d6130442986c                      1.5           1.5          259092000000000      172728
0x7f9751f69762074a8b53a68c3e604047cc2977413eff6df0a5e15b40f8bbbed3                      1.5           1.5          186049500000000      124033
0x244849f58c00a308d3a8e83ce6faf48f17540d346d601a4c941c079f7ab5cb21                      1.5           1.5           31500000000000       21000
0xa8fbd268ac7381bffa010f1eb381ac66957c3035e178e008d30e2cca11d7f71c                      1.5           1.5           31500000000000       21000
0xedb8cc0275116cf8a9358628773b42fcfc69089b0ee41cb98160c5947a877aea                      1.5           1.5           67557000000000       45038
0xf2be998e526c908c26fe546afec17b69973bacb658971d532ed17f109223198a                      1.5           1.5           69198000000000       46132
0xe6e58034782976d22a4861448f0c37522a42376913ba780469cd15f6077f0ce9                      1.4           1.4           62192200000000       44423
0x555855be2e548bcd4a9f855a6090257c90d24c638d1e9c7e9ecd5c004c86d276                      1.4           1.4           45067400000000       32191
0x1618916362b38254292ea5299cbe39727a710bee5a172036a76536c8c46634e5                      1.2934        1.2934       321022032891200      248200
0x2e380f213a20fc3aa53a9e68a1ddc0e72b98605a73e155ae021664ab0d566019                      1.21          1.21         185624890000000      153409
0xe3c0265e3c79e69570d9f2f0eb0c80b7262fddd6d939461279433569eed13eaa                      1             1            169321000000000      169321
0x15dfe6585634906cdcf88211991427c3ed52a3dd4e30b1cd87566ebfa1895300                      1             1             21000000000000       21000
0xb16fd9922f5717f9a4c5f624f70fd0b2e682182df6b0896b0e513ac6ed376cc5                      1             1             41321000000000       41321
0x1955e1a7ca3182d063cd1aa2e37775014d7b0480d2743aad482b75cbc56c1b09                      1             1             74704000000000       74704
0x43c12cc823e21bb9edd3aa05664391cdaad86e108ac6671374df8bb015d89e95                      0.852144      0.852144      17895029901000       21000
0xad816dacb87128df81a286807ab5f09e15c26181191fe455e1cb8b7b22a25e18                      0.691667      0.691667      49677614382945       71823
0x07f3021bed7f7ab1aa32593594b1fee3ac54fcfb2a9f1c1235798c06e57aac67                      0.371103      0.371103      45886841930600      123650
0x227322e4e2dc8406ab307f2c2b4e3e1d50879a28efd4d97f3921e8d4339f48d5                      0.35          0.35          79708650000000      227739
0xb5a0a62e7b945567b96a04851afb8bf434be3975483a6a99be5aa64d8b0de3c2                      0.29          0.29          61964300000000      213670
0x765a7171587bc1d5c8a0b8d37424f536200cb39cb05369985650e49fc8b1d945                      0.22          0.22          25398340000000      115447
0x3bcb41ab9a2e39c50cf9f014517fc13b8452b03289307f3f255ba630a3fc1d19                      0.214719      0.214719     571951440142254     2663721
0x30fcf86874d19d63142e1c8c7e727c6d4554020e1c3fb882b079e943bd0bd0f7                      0.214719      0.214719       6923183878682       32243
0x147cb9a66cd5fa06268312602edd6c6b4bf20755e284cb43ee3372a6d0524824                      0.214719      0.214719       6923183878682       32243
0x8ab7b100659927272401acb2a5ef8698f3712212aaeae47b1472b487d93bcab7                      0.214719      0.214719       6923183878682       32243
0xb8ed233cc1cdd3100202dde843132e14a6d67552f28f8191dd8034c974fd56a5                      0.214719      0.214719       6923183878682       32243
0xc6917a87d19c830d1bc2765def90a1f126b99cd66552342c7dbe4b09442efa87                      0.205144      0.205144       4308029901000       21000
0x5e36bb80b13f45594947086ed715515bec2ca9145b132219ffd3fe8c9466c659                      0.138333      0.138333       2905002303000       21000
0x5b711925a33f2498b3a4214b7f1741293883f833230003d4ab5e9b31bcc41232                      0.138333      0.138333      21721117219860      157020
0x1459a2e442b6dd7bb659478bfbc7920e6ec69f7c2c69ddcc07fdd33d97252b79                      0.138333      0.138333      41607241318325      300775
0x1bfe46ea1f0e87d6aaef3f5d373261a655a78fa5eb147b69b242efd03377c093                  -1839.03          0         -40662896930684566       22111
```
